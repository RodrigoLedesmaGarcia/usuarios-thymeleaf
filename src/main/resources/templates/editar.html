<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Editar usuario</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body class="bg-dark text-light">
<div class="container">
    <h3 class="mt-3">Editar usuario</h3>
</div>

<div class="container my-3">
    <!-- IMPORTANTE: en el controlador, model.addAttribute("contacto", contacto) -->
    <form th:action="@{/editar}" th:object="${contacto}" method="post" novalidate>

        <!-- ID oculto -->
        <input type="hidden" th:field="*{id}"/>

        <div class="mb-3">
            <label class="form-label">Nombre</label>
            <input class="form-control" th:field="*{nombre}"
                   th:classappend="${#fields.hasErrors('nombre')} ? ' is-invalid'">
            <div class="invalid-feedback" th:errors="*{nombre}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Apellido paterno</label>
            <input class="form-control" th:field="*{app}"
                   th:classappend="${#fields.hasErrors('app')} ? ' is-invalid'">
            <div class="invalid-feedback" th:errors="*{app}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Apellido materno</label>
            <input class="form-control" th:field="*{apm}"
                   th:classappend="${#fields.hasErrors('apm')} ? ' is-invalid'">
            <div class="invalid-feedback" th:errors="*{apm}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Correo</label>
            <input type="email" class="form-control" th:field="*{correo}" autocomplete="email"
                   th:classappend="${#fields.hasErrors('correo')} ? ' is-invalid'">
            <div class="invalid-feedback" th:errors="*{correo}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Alcaldía</label>
            <input class="form-control" th:field="*{alcaldia}"
                   th:classappend="${#fields.hasErrors('alcaldia')} ? ' is-invalid'">
            <div class="invalid-feedback" th:errors="*{alcaldia}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Código Postal</label>
            <input class="form-control" th:field="*{cp}" inputmode="numeric"
                   pattern="[0-9]{5}" maxlength="5" placeholder="#####"
                   th:classappend="${#fields.hasErrors('cp')} ? ' is-invalid'">
            <div class="invalid-feedback" th:errors="*{cp}">El CP debe tener 5 dígitos.</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Número de contacto</label>
            <input class="form-control" th:field="*{numero}" inputmode="numeric"
                   pattern="[0-9]{10}" maxlength="10" placeholder="##########" autocomplete="tel"
                   th:classappend="${#fields.hasErrors('numero')} ? ' is-invalid'">
            <div class="invalid-feedback" th:errors="*{numero}">Debe tener 10 dígitos.</div>
        </div>

        <div class="d-flex gap-2">
            <button class="btn btn-primary" type="submit">Guardar</button>
            <a th:href="@{/}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
</body>
</html>
